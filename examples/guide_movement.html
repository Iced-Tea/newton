<!DOCTYPE html>
<html>
<head>
  <title>Newton.js: Movement Demo</title>
  <link rel='stylesheet' type='text/css' href='shared/style.css' />
</head>
<body>
<div class='wrap'>
  <canvas id="display" width="1000" height="600"></canvas>
</div>
<script type='text/javascript' src='../dist/newton.js'></script>
<script>

  var sim = Newton.Simulator();
  var display = document.getElementById('display');
  var renderer = Newton.GLRenderer(display);

  var gravity = Newton.LinearForce(7, Math.PI * 1.5);
  var container = Newton.BoxConstraint(0, 0, 1000, 600);
  var string = Newton.Body();

  var prev, current;

  // build a string to dangle
  for (var i = 0; i < 25; i++) {

    // add a particle to the string
    current = string.add(Newton.Particle(500 + i * 20, 180));

    // a PinConstraint pins the first Particle in place
    if (!prev) string.add(Newton.PinConstraint(current));
    // a RopeConstraint attaches subsequent particles to the previous particle
    else string.add(Newton.RopeConstraint(prev, current));

    prev = current;
  }

  renderer.render(sim);

  sim.add(string);
  sim.add(gravity);
  sim.add(container);

  sim.start();

</script>
</body>
