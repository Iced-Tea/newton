<!DOCTYPE html>
<html>
<head>
  <title>Newton.js: Movement Demo</title>
  <link rel='stylesheet' type='text/css' href='shared/style.css' />
</head>
<body>
<div class='wrap'>
  <canvas id="display" width="1000" height="600"></canvas>
</div>
<script type='text/javascript' src='../build/newton.js'></script>
<script>

  var sim = Newton.Simulator();
  var display = document.getElementById('display');
  var renderer = Newton.GLRenderer(display);
  var string = Newton.Body();
  var prev, current;

  for (var i = 0; i < 25; i++) {
    current = string.add(Newton.Particle(500 + i * 20, 180));

    // A PinConstraint pins a Particle in place
    if (i === 0) string.add(Newton.PinConstraint(current));

    // A RopeConstraint attaches this particle to the previous particle
    if (prev) string.add(Newton.RopeConstraint(prev, current));
    prev = current;
  }

  renderer.render(sim);

  sim.add(string);

  // A LinearForce simulates gravity
  sim.add(Newton.LinearForce(0.01, Math.PI * 1.5));

  // A BoxConstraint keeps our string within the viewport
  sim.add(Newton.BoxConstraint(0, 0, 1000, 600));
  sim.start();

</script>
</body>
